<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="shreyas,pramod">
    <title>Honeywell</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/landing-page.css" rel="stylesheet">
</head>

<body>
    <div class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">                 
                    <div class="intro-message">
                        <label id="output" style="font-size:40px;color:red;"></label>
                        <h1>Honeywell</h1>
                        <h3>Find where your peers are!</h3>
                        <hr class="intro-divider">
                        
                        <div>
                            <ul class="list-inline intro-social-buttons">
                                <li>
                                    <input class="form-control input-lg" placeholder="peer-name" id="username" type="text" style="width:200px;float:center">
                                </li>    
                                <li>
                                    <a class="btn btn-default btn-md" onclick="getFloor()"><span class="button_username">Find</span></a>
                                </li>                            
                            </ul>
                        </div>                          
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        function getFloor() {
            // body...
            var username = document.getElementById('username').value;
            var xhr = new XMLHttpRequest();
            xhr.open("GET","getFloor.php?user_name="+username,true);
            xhr.send()
            xhr.onreadystatechange = function () {
                if(xhr.readyState == 4 && xhr.status == 200){
                    pos_details = xhr.responseText;
                    pos_array = pos_details.split(" ");
                    window.alert(pos_array.length)
                    if(pos_array.length==3){
                   		 document.getElementById("output").innerHTML = "Your peer is in floor "+pos_array[0]+" pillar number "+pos_array[1]+ " post number "+pos_array[2]; 	
                    }
                    else{
                    	document.getElementById("output").innerHTML = "The peer you're looking for is not present"
                    }
                   
                }
            }
        }
        

    </script>
</body>

</html>
